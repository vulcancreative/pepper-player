<html>
  <head>
    <title>Pepper Player - Dev Env</title>
    <script src="pepper.js"></script>
    <style>
      html, body {
        background: grey;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
      }

      .pepper {
        width: 100%;
      }

      .pepper video {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="root">
      <div class="pepper">
        <!--
        <div>
            <video></video>
            <div class="scrubber-container">
                <div class="preview" style="background-color: black; width: 160px; height: 90px;"></div>
                <div class="scrubber-activearea">
                    <div class="scrubber-outer">
                        <div class="scrubber-inner">
                            <div class="scrubber-handle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        -->
      </div>
    </div>
    <script type="text/javascript">
      /*
      // Streamlyzer test
      var player = new pepper.Player();
      window.player = player;

      var observer = new szrpg.playbackObserver({
        customerKey: 'a82b22517ef946aa8c',
        isLive: false,

        cbGetDuration: () => player.duration(),
        cbGetBuffer: () => player.bufferTime(),
        cbGetPosition: () => player.currentTime(),
        cbGetBitrate: () => player.currentBitrate(),
        cbGetResolution: () => player.currentResolution(),
      });

      player.config.playlist = [
        {
          dash: {
            url: "http://media.tfod.tomferry.com/" +
            "5ibn2LmwWNYZvd3YzfhOGjzuwkVWMjhUqR4Fw0AnYxDMYbFP9L/" +
            "2017/01-james-suarez/stream.mpd"
          },
          hls: {
            gen: true
          }
        }
      ];

      player.config.hooks = {
        onReady: () => {
          console.log("Player ready");
          observer.onPlayerReady();
        },
        onEnd: () => {
          observer.onPlayerComplete();
        },
        onPlay: () => {
          console.log("Player playing");
          observer.onPlayerPlay();
        },
        onPause: () => {
          console.log("Player paused");
          observer.onPlayerPaused();
        },
        onStop: () => {
          console.log("Player stopped");
          observer.onPlayerStop();
          location.reload();
        },
        onBufferStart: () => {
          console.log("Player buffer started");
          observer.onBufferingStart();
        },
        onBufferEnd: () => {
          console.log("Player buffer ended");
          observer.onBufferingEnd();
        },
        onError: error => {
          console.log("Player errored out");
          observer.onPlayerErrorMessage(error);
        },
        onAdapt: bitrate => {
          console.log(`Player adapted to ${bitrate}kbps`);
          observer.onPlayerBitrateChange(bitrate);
        },
      };

      player.play();
      */

      /*
      // AWS test (TF)
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url:
                "https://tfod-products.s3-accelerate.amazonaws.com/wysm/00-gettingstarted/00-intro/stream.mpd",
            },
            hls: {
              gen: true
            }
          }
        ],
        loop: true
      });
      */

      /*
      // AWS test (HWE)
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url:
                "https://homeworksenergy.com/13wIn7slNL76Zg7UD6/stream.mpd",
            },
            hls: {
              gen: true
            }
          }
        ],
        loop: true
      });
      */

      /*
      // Cole test
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "https://dny75pzpmxtz5.cloudfront.net/out/v1/ae9942393b2f41488f064376ed314bee/index.mpd",
            },
            hls: {
              url: "https://s3-us-west-1.amazonaws.com/tfod-vod/day2/alt/index.m3u8",
              gen: true
            }
          }
        ]
      });
      */

      /*
      // TFOD 1.0 media test
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "http://media.tfod.tomferry.com/" +
              "EF6K95BydowVv4Od6kvpkLvi3QzbeLDKiqfZcqRPWzZgE9rZhK/" +
              "uZUxdD2UDUcaO6FEKURQ/gLtSO2kPCWKZKXSdAeOj/" +
              "SYC0zeIlORZH1JLBUe4z"
            },
            hls: {
              gen: true
            }
          }
        ]
      });
      */

      /*
      // 10-adaptation media test
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "http://media.tfod.tomferry.com/" +
              "5ibn2LmwWNYZvd3YzfhOGjzuwkVWMjhUqR4Fw0AnYxDMYbFP9L/" +
              "2017/01-james-suarez/stream.mpd"
            },
            hls: {
              gen: true
            }
          }
        ]
      });
      */

      // bbb 4k test
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "https://dash.akamaized.net/akamai/" +
              "bbb_30fps/bbb_30fps.mpd",
              // base: "https://dash.akamaized.net/akamai/bbb_30fps/",
            },
            hls: {
              gen: true
            }
          }
        ]
      });

      /*
      // bbb 4k thumbnail test
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "http://dash.edgesuite.net/akamai/" +
              "bbb_30fps/bbb_with_tiled_thumbnails.mpd"
            },
            hls: {
              gen: true
            }
          }
        ]
      });
      */

      /*
      // live echo test
      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "http://vm2.dashif.org/livesim/" +
              "segtimeline_1/testpic_2s/Manifest.mpd"
            },
            hls: {
              gen: true
            }
          }
        ]
      });
      */

      /*
      // deferred live echo test
      var now = new Date();
      now.setSeconds(now.getSeconds() + 5);

      window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "http://vm2.dashif.org/livesim/" +
              "segtimeline_1/testpic_2s/Manifest.mpd"
            },
            hls: {
              gen: true
            }
          }
        ],
        timed: 5000
        // timed: {
          // start: now.toString(),
          // zone: 'America/Los_Angeles'
        // }
      });
      */

     /*
     // local test
     window.player = new pepper.Player({
        playlist: [
          {
            dash: {
              url: "http://localhost:4000/stream.mpd",
            },
            hls: {
              gen: true
            }
          }
        ]
      });
      */
    </script>
  </body>
</html>
